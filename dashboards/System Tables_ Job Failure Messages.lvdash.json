{"datasets":[{"name":"e9da34ca","displayName":"Job Execution History","query":"SELECT COUNT(DISTINCT jr.run_id) job_runs, COUNT(DISTINCT jr.job_id) jobs, \nIF(jr.result_state=\"MAXIMUM_CONCURRENT_RUNS_REACHED\",\"MAX CONCURRENT\",jr.result_state) result_state\nFROM finops.system_lookups.v_job_runs jr\nWHERE jr.usage_date BETWEEN :from_date AND :to_date\nGROUP BY ALL","parameters":[{"displayName":"From","keyword":"from_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-28d/d"}]}}},{"displayName":"To","keyword":"to_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now/d"}]}}}]},{"name":"250db2b1","displayName":"Job Failed Message","query":"SELECT COUNT(DISTINCT jr.run_id) job_runs, COUNT(DISTINCT jr.job_id) jobs, jr.state_message\nFROM finops.system_lookups.v_job_runs jr\nWHERE jr.result_state=\"FAILED\" AND jr.usage_date BETWEEN :from_date AND :to_date\nGROUP BY ALL\nORDER BY COUNT(DISTINCT jr.run_id)  DESC","parameters":[{"displayName":"From","keyword":"from_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-28d/d"}]}}},{"displayName":"To","keyword":"to_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now/d"}]}}}]},{"name":"7ac91739","displayName":"Where Jobs Fail","query":"SELECT c.cluster_name, c.data_security_mode, COUNT(DISTINCT jrt.task_id) tasks, COUNT(DISTINCT jrt.run_id) job_runs, COUNT(DISTINCT jrt.job_id) jobs\nFROM finops.system_lookups.v_job_runs_tasks jrt\nINNER JOIN finops.system_lookups.v_clusters c on jrt.cluster_id=c.cluster_id\nWHERE jrt.result_state=\"FAILED\" AND jrt.usage_date BETWEEN :from_date AND :to_date\nGROUP BY ALL\nORDER BY cluster_name DESC\n","parameters":[{"displayName":"From","keyword":"from_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now-28d/d"}]}}},{"displayName":"To","keyword":"to_date","dataType":"DATE","defaultSelection":{"values":{"dataType":"DATE","values":[{"value":"now/d"}]}}}]}],"pages":[{"name":"3c82c822","displayName":"New Page","layout":[{"widget":{"name":"09b04a4c","queries":[{"name":"main_query","query":{"datasetName":"e9da34ca","fields":[{"name":"result_state","expression":"`result_state`"},{"name":"sum(job_runs)","expression":"SUM(`job_runs`)"},{"name":"sum(jobs)","expression":"SUM(`jobs`)"}],"disaggregated":false}}],"spec":{"version":1,"widgetType":"combo","encodings":{"x":{"fieldName":"result_state","scale":{"type":"categorical"},"displayName":"result_state"},"y":{"primary":{"fields":[{"fieldName":"sum(job_runs)","displayName":"Sum of job_runs"}]},"secondary":{"fields":[{"fieldName":"sum(jobs)","displayName":"Sum of jobs"}]},"scale":{"type":"quantitative"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Job execution history"}}},"position":{"x":0,"y":1,"width":3,"height":7}},{"widget":{"name":"0f644cbf","queries":[{"name":"main_query","query":{"datasetName":"250db2b1","fields":[{"name":"sum(job_runs)","expression":"SUM(`job_runs`)"},{"name":"state_message","expression":"`state_message`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(job_runs)","scale":{"type":"quantitative"},"displayName":"Sum of job_runs"},"y":{"fieldName":"state_message","scale":{"type":"categorical"},"displayName":"state_message"}},"frame":{"showTitle":true,"title":"Error Messages"}}},"position":{"x":0,"y":8,"width":6,"height":32}},{"widget":{"name":"d0f87790","queries":[{"name":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef1471cbca1a39ab6ece718891f4f3_from_date","query":{"datasetName":"e9da34ca","parameters":[{"name":"from_date","keyword":"from_date"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef147340ba1edd9143c659f51b7e46_from_date","query":{"datasetName":"250db2b1","parameters":[{"name":"from_date","keyword":"from_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"from_date","queryName":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef1471cbca1a39ab6ece718891f4f3_from_date"},{"parameterName":"from_date","queryName":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef147340ba1edd9143c659f51b7e46_from_date"}]},"frame":{"showTitle":true,"title":"From"}}},"position":{"x":0,"y":0,"width":2,"height":1}},{"widget":{"name":"aabf613b","queries":[{"name":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef1471cbca1a39ab6ece718891f4f3_to_date","query":{"datasetName":"e9da34ca","parameters":[{"name":"to_date","keyword":"to_date"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef147340ba1edd9143c659f51b7e46_to_date","query":{"datasetName":"250db2b1","parameters":[{"name":"to_date","keyword":"to_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"to_date","queryName":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef1471cbca1a39ab6ece718891f4f3_to_date"},{"parameterName":"to_date","queryName":"parameter_dashboards/01ef1471bf4318c1a4b91c8f0b3c93fc/datasets/01ef147340ba1edd9143c659f51b7e46_to_date"}]},"frame":{"showTitle":true,"title":"To"}}},"position":{"x":2,"y":0,"width":1,"height":1}},{"widget":{"name":"54814648","queries":[{"name":"main_query","query":{"datasetName":"7ac91739","fields":[{"name":"data_security_mode","expression":"`data_security_mode`"},{"name":"job_runs","expression":"`job_runs`"},{"name":"cluster_name","expression":"`cluster_name`"}],"disaggregated":true}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"job_runs","scale":{"type":"categorical"},"displayName":"job_runs"},"y":{"fieldName":"cluster_name","scale":{"type":"categorical"},"displayName":"cluster_name"},"color":{"fieldName":"data_security_mode","scale":{"type":"categorical"},"displayName":"data_security_mode"}}}},"position":{"x":3,"y":0,"width":3,"height":8}}]}]}